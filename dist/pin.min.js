/** pin.js - v0.0.1 - 2015-05-19
* Copyright (c) 2015 Mauricio Soares;
* Licensed MIT 
*/


!function(a,b){"use strict";function c(a){this.el=b.querySelector(a),this.$parentt=this.el.parentNode,this.init()}c.prototype.init=function(){this.bind(),this.calcPositions(),this.onWindowScroll()},c.prototype.destroy=function(){this.setCss(),this.unbind()},c.prototype.calcPositions=function(){this.positions={offset:this.getOffset(this.el),parentOffset:this.getParentOffset(),stopTop:this.$parentt.offsetHeight+this.getOffset(this.$parentt).top-this.el.offsetHeight}},c.prototype.getOffset=function(c){var d=b.documentElement,e=c.getBoundingClientRect();return{top:e.top+a.pageYOffset-d.clientTop,left:e.left+a.pageXOffset-d.clientLeft}},c.prototype.getParentOffset=function(){return{left:this.el.offsetLeft}},c.prototype.bind=function(){this.reloadBind=this.reload.bind(this),this.onWindowScrollBind=this.onWindowScroll.bind(this),a.addEventListener("resize",this.reloadBind),a.addEventListener("scroll",this.onWindowScrollBind)},c.prototype.unbind=function(){a.removeEventListener("resize",this.reloadBind),a.removeEventListener("scroll",this.onWindowScrollBind)},c.prototype.reload=function(){this.setCss(),this.calcPositions(),this.onWindowScroll()},c.prototype.onWindowScroll=function(){var b;if(!g(this.el)&&!(this.touchBottom()||(b=a.scrollY-this.positions.offset.top,b>0&&"fixed"===d(this.el,"position")||0>=b&&("relative"===d(this.el,"position")||"static"===d(this.el,"position")))))return b>0?void this.setCss({position:"fixed",left:e(this.positions.offset.left),top:0,marginLeft:0,marginTop:0,bottom:""}):void this.setCss()},c.prototype.touchBottom=function(){return a.scrollY>this.positions.stopTop?"absolute"===d(this.el,"position")?!0:(this.setCss({top:"",marginLeft:"",bottom:0,position:"absolute",left:e(this.positions.parentOffset.left)}),!0):!1},c.prototype.setCss=function(a){if(!a)return void this.el.removeAttribute("style");for(var b in a)this.el.style[b]=a[b]};function d(b,c){return a.getComputedStyle(b)[c]}function e(a){return a+"px"}function f(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function g(b){return a.innerHeight<b.offsetHeight}a.Pin=c}(window,document);
//# sourceMappingURL=pin.min.js.map